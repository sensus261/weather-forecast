generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model EntCity {
    id String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid

    name       String
    latitude   Float
    longitude  Float
    country    String
    population Int
    timezone   Int
    sunrise    Int
    sunset     Int?

    forecasts EntForecast[]

    createdAt DateTime @default(dbgenerated("'2023-02-11'::date")) @db.Date
    updatedAt DateTime @default(dbgenerated("'2023-02-11'::date")) @db.Date
}

model EntForecast {
    id String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid

    dt          Int
    temperature Float
    feelsLike   Float
    tempMin     Float
    tempMax     Float
    pressure    Int
    seaLevel    Int
    grndLevel   Int
    humidity    Int
    tempKf      Float
    title       String
    description String
    icon        String
    clouds      Int
    windSpeed   Float
    windDeg     Int
    windGust    Float
    visibility  Int
    pop         Float
    sysPod      String
    dateTime    String

    city   EntCity @relation(fields: [cityId], references: [id])
    cityId String @db.Uuid

    createdAt DateTime @default(dbgenerated("'2023-02-11'::date")) @db.Date
    updatedAt DateTime @default(dbgenerated("'2023-02-11'::date")) @db.Date
}
